# Test Environment Configuration
# This file is used for running tests with cargo test

# Database Configuration (using Docker container ports)
DATABASE_URL=postgresql://qck_user:qck_password@localhost:12001/qck_db
DATABASE_MAX_CONNECTIONS=10  # Lower for tests
DATABASE_MIN_CONNECTIONS=2
DATABASE_CONNECT_TIMEOUT=5
DATABASE_IDLE_TIMEOUT=300
DATABASE_MAX_LIFETIME=600
DATABASE_TEST_BEFORE_ACQUIRE=true
DATABASE_STATEMENT_CACHE=50

# Redis Configuration
REDIS_URL=redis://localhost:12002
REDIS_POOL_SIZE=10  # Lower for tests
REDIS_CONNECTION_TIMEOUT=5
REDIS_COMMAND_TIMEOUT=5
REDIS_RETRY_ATTEMPTS=2
REDIS_RETRY_DELAY=100

# ClickHouse Configuration
CLICKHOUSE_URL=http://localhost:12003

# Application Configuration
JWT_SECRET=test-jwt-secret-key
RUST_LOG=warn,qck_backend=debug,sqlx=warn
ENVIRONMENT=test
BIND_ADDRESS=127.0.0.1:8080

# Test-specific settings
TEST_DATABASE_URL=postgresql://qck_user:qck_password@localhost:12001/qck_test_db
RUST_BACKTRACE=1